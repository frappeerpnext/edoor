{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-11-18 14:27:12.763452",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Business Branch",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2><div>\\n    No Show, Cancel & Void Report\\n    </div><br><small class=\\\"sub-heading\\\">{{ doc.name }} - {{frappe.format( frappe.form_dict.get(\\\"date\\\"),{\\\"fieldtype\\\":\\\"Date\\\"})}}</small>\\t\\t\\t\\t</h2></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Base on Transaction Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% \\n    set sql =\\\"\\\"\\\"\\n        select \\n            name,\\n            reservation,\\n            arrival_date,\\n            departure_date,\\n            room_nights,\\n            guest,\\n            guest_name,\\n            reservation_status\\n        from `tabReservation Stay`\\n        where\\n            cancelled_date between '{0}' and '{1}' and \\n            property = '{2}' and \\n            reservation_status in ('No Show','Cancelled','Void') and \\n            reservation_type = if('{3}'='',reservation_type,'{3}')\\n    \\\"\\\"\\\".format(\\n        frappe.form_dict.get(\\\"start_date\\\"),\\n        frappe.form_dict.get(\\\"end_date\\\"),\\n        doc.name,\\n        frappe.form_dict.get(\\\"reservation_type\\\") or '',\\n    )\\n    \\n%}\\n\\n{% set data = frappe.db.sql(sql,as_dict=1)%}\\n{% set reservation_status =  data|map(attribute='reservation_status')|unique|list %}\\n\\n<h1>Base on Transaction Date</h1>\\n\\n<table>\\n    <thead>\\n        <tr>\\n             <th class=\\\"text-center\\\">No</th>\\n             <th class=\\\"text-center\\\">Reservation #</th>\\n             <th class=\\\"text-center\\\">Stay #</th>\\n             <th class=\\\"text-center\\\">Stay Date</th>\\n             <th>Guest</th>\\n             <th>Status</th>\\n             \\n        </tr>\\n        \\n    </thead>\\n    <tbody>\\n        {%for g in reservation_status%}\\n            <tr>\\n                <td colspan=\\\"6\\\"><b>{{g}}</b></td>\\n            </tr>\\n     \\n            {% for d in data|selectattr('reservation_status', '==', g)|list %}\\n\\n            <tr>\\n                <td class=\\\"text-center\\\">{{loop.index}}</td>\\n                <td class=\\\"text-center\\\">{{d.reservation}}</td>\\n                <td class=\\\"text-center\\\">{{d.name}}</td>\\n                <td class=\\\"text-center\\\">{{frappe.format(d.arrival_date,{\\\"fieldtype\\\":\\\"Date\\\"})}} - {{frappe.format( d.departure_date,{\\\"fieldtype\\\":\\\"Date\\\"})}}</td>\\n                <td >{{d.guest}} - {{d.guest_name}}</td>\\n                <td >{{d.reservation_status}} </td>\\n            </tr>\\n            \\n            {%endfor%}\\n            \\n         {%endfor%}\\n    </tbody>\\n</table>\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Base on Arrival Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% \\n    set sql =\\\"\\\"\\\"\\n        select \\n            name,\\n            reservation,\\n            cancelled_date,\\n            arrival_date,\\n            departure_date,\\n            room_nights,\\n            guest,\\n            guest_name\\n        from `tabReservation Stay`\\n        where\\n            arrival_date = '{}' and \\n            property = '{}' and \\n            reservation_status in ('No Show','Cancelled','Void')\\n    \\\"\\\"\\\".format(\\n        frappe.form_dict.get(\\\"date\\\"),\\n        doc.name\\n    )\\n    \\n%}\\n\\n{% set data = frappe.db.sql(sql,as_dict=1)%}\\n\\n<h1>Base on Arrival Date</h1>\\n\\n<table>\\n    <thead>\\n        <tr>\\n             <th class=\\\"text-center\\\">No</th>\\n             <th class=\\\"text-center\\\">Reservation #</th>\\n             <th class=\\\"text-center\\\">Stay #</th>\\n             <th class=\\\"text-center\\\">Canceled Date</th>\\n             <th class=\\\"text-center\\\">Stay Date</th>\\n             <th>Guest</th>\\n             \\n        </tr>\\n        \\n    </thead>\\n    <tbody>\\n        {% for d in data %}\\n        <tr>\\n            <td class=\\\"text-center\\\">{{loop.index}}</td>\\n            <td class=\\\"text-center\\\">{{d.reservation}}</td>\\n            <td class=\\\"text-center\\\">{{d.name}}</td>\\n            <td class=\\\"text-center\\\">{{frappe.format(d.cancelled_date,{\\\"fieldtype\\\":\\\"Date\\\"})}}</td>\\n            <td class=\\\"text-center\\\">{{frappe.format(d.arrival_date,{\\\"fieldtype\\\":\\\"Date\\\"})}} - {{frappe.format( d.departure_date,{\\\"fieldtype\\\":\\\"Date\\\"})}}</td>\\n            <td >{{d.guest}} - {{d.guest_name}}</td>\\n        </tr>\\n        {%endfor%}\\n    </tbody>\\n</table>\\n\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2023-11-18 16:47:09.895360",
 "modified_by": "Administrator",
 "module": "eDoor",
 "name": "eDoor No Show Cancel Void Report",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}