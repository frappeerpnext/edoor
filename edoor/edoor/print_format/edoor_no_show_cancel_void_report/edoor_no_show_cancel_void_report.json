{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-11-29 14:46:22.885404",
 "css": "@media print{@page {size: landscape}}\n\n.print-format{\n    font-size:12px!important;\n    min-width:95%!important;\n}\n.print-format td, .print-format th{\n    padding:4px 2px !important;\n}\n\n.print-format th{\n    color:#000!important;\n    border-bottom: solid 1px #000;\n    background:#ccc;\n}\n.print-format .letter-head{\n    margin:0px !important;\n}\nh2{\n    margin:0px!important;\n}\n\n.nowrap{\n    white-space: nowrap!important;\n}\n.break-all{\n    word-break: break-all!important;\n}\nh2{\n    font-size:16px !important;\n    margin-top: 10px !important;\n}\n",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Business Branch",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<h2 class=\\\"text-center\\\">{{_(\\\"No Show, Cancel & Void Report\\\")}}</h2>\\r\\n{% set data = frappe.db.sql(\\\"\\r\\n            select parent_system_report\\r\\n            from \\r\\n                `tabSystem Report` \\r\\n            where \\r\\n                parent_system_report = 'Night Audit'\\\") %}\\r\\n<table style=\\\"width:100%;border-collapse: collapse;text-overflow: ellipsis;\\\">\\r\\n    <tr>\\r\\n        <td class=\\\"filter-section\\\" >\\r\\n            {% if data %}\\r\\n            {% if frappe.form_dict.start_date == frappe.form_dict.end_date %}\\r\\n            {{_(\\\"Working Date\\\")}} : <strong>{{frappe.format(frappe.form_dict.start_date,{'fieldtype':'Date'})}}</strong> \\r\\n            {% else %}\\r\\n            {{_(\\\"Working Date\\\")}} : <strong>{{frappe.format(frappe.form_dict.start_date,{'fieldtype':'Date'})}}</strong>\\r\\n             - <strong>{{frappe.format(frappe.form_dict.end_date,{'fieldtype':'Date'})}}</strong>\\r\\n            {% endif %}\\r\\n             \\r\\n            {% else %}\\r\\n            \\r\\n            {% if frappe.form_dict.start_date == frappe.form_dict.end_date %}\\r\\n            {{_(\\\"Date\\\")}} : <strong>{{frappe.format(frappe.form_dict.start_date,{'fieldtype':'Date'})}}</strong> \\r\\n            {% else %}\\r\\n            {{_(\\\"Date\\\")}} : <strong>{{frappe.format(frappe.form_dict.start_date,{'fieldtype':'Date'})}}</strong>\\r\\n             - <strong>{{frappe.format(frappe.form_dict.end_date,{'fieldtype':'Date'})}}</strong>\\r\\n             {% endif %}\\r\\n            {% endif %}\\r\\n        </td> \\r\\n\\r\\n\\r\\n        <td class = \\\"text-right\\\" width = \\\"200px\\\">\\r\\n        {{_(\\\"Printed By\\\")}} : <strong>{{frappe.db.get_value(\\\"User\\\", frappe.session.user, \\\"full_name\\\")}}</strong>\\r\\n        <br>\\r\\n        {{_(\\\"Printed Date\\\")}} : <strong>{{frappe.format(frappe.utils.now(),{'fieldtype':'Datetime'})}}</strong>\\r\\n        </td> \\r\\n    </tr>\\r\\n\\r\\n</table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Base on Transaction Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% \\n    set sql =\\\"\\\"\\\"\\n        select \\n            name,\\n            reservation,\\n            arrival_date,\\n            departure_date,\\n            room_nights,\\n            guest,\\n            guest_name,\\n            reservation_status,\\n            cancelled_note,\\n            business_source,\\n            room_nights,\\n            rooms,\\n            room_type_alias,\\n            reservation_type,\\n            reference_number,\\n            cancelled_by,\\n            cancelled_date,\\n            total_room_rate,\\n            adult,\\n            child,\\n            adr\\n        from `tabReservation Stay`\\n        where\\n            cancelled_date between '{0}' and '{1}' and \\n            property = '{2}' and \\n            reservation_status in ('No Show','Cancelled','Void') and \\n            reservation_type = if('{3}'='',reservation_type,'{3}') and\\n            business_source = if('{4}'='', business_source,'{4}')\\n    \\\"\\\"\\\".format(\\n        frappe.form_dict.get(\\\"start_date\\\"),\\n        frappe.form_dict.get(\\\"end_date\\\"),\\n        doc.name,\\n        frappe.form_dict.get(\\\"reservation_type\\\") or '',\\n        frappe.form_dict.get(\\\"business_source\\\") or '',\\n    )\\n    \\n%}\\n\\n{% set data = frappe.db.sql(sql,as_dict=1)%}\\n{% set reservation_status =  data|map(attribute='reservation_status')|unique|list %}\\n<h2 class=\\\"mt-3\\\" style=\\\"text-transform:capitalize !important;text-align:left !important\\\">Today No Show, Cancel & Void Reservation</h2>\\n\\n{% if data|length > 0 %}\\n<table class='report-list occupied-001' style=\\\"width:100%\\\">\\n    <thead>\\n        <tr>\\n             <th class=\\\"text-center\\\">No</th>\\n             <th>Reservation #</th> \\n             <th>Ref. #</th>\\n             <th class=\\\"text-center\\\">Type</th>\\n             <th class=\\\"text-center\\\">Stay Date</th>\\n             <th class=\\\"text-center\\\">Room Nights</th>\\n             <th>Room(s)</th>\\n             <th>Guest</th>\\n             <th>Source</th>\\n             <th class=\\\"text-right\\\">ADR</th>\\n             <th class=\\\"text-right\\\">Total Room Rate</th>\\n             <th>Status</th>\\n             <th>By</th>\\n             <th class=\\\"text-center\\\">Date</th>\\n             <th>Note</th> \\n             \\n        </tr>\\n        \\n    </thead>\\n    <tbody>\\n        {%for g in reservation_status%}\\n            <tr>\\n                <td colspan=\\\"6\\\"><b>{{g}}</b></td>\\n            </tr>\\n     \\n            {% for d in data|selectattr('reservation_status', 'equalto', g)|list %}\\n\\n            <tr>\\n                <td class=\\\"text-center\\\">{{loop.index}}</td>\\n                <td>\\n                    <a onclick=\\\"window.parent.postMessage('view_reservation_detail|{{d.reservation}}', '*')\\\">{{d.reservation}}</a>\\n                    <br/>\\n                    <a onclick=\\\"window.parent.postMessage('view_reservation_stay_detail|{{d.name}}', '*')\\\">{{d.name}}</a>\\n                </td>\\n                <td class=\\\"text-center\\\">{{d.reference_number}}</td>\\n                <td class=\\\"text-center\\\">{{d.reservation_type}}</td>\\n                <td class=\\\"text-center\\\">{{frappe.format(d.arrival_date,{\\\"fieldtype\\\":\\\"Date\\\"})}} - {{frappe.format( d.departure_date,{\\\"fieldtype\\\":\\\"Date\\\"})}}</td>\\n                <td class=\\\"text-center\\\">{{d.room_nights}}</td>\\n                <td >{{d.room_type_alias}}/{{d.rooms or 'Unassign'}}</td>\\n                <td><a onclick=\\\"window.parent.postMessage('view_guest_detail|{{d.guest}}', '*')\\\">{{d.guest_name}}</a></td>\\n                <td>{{d.business_source}}</td>\\n                <td class=\\\"text-right\\\">{{d.adr}}</td>\\n                <td class=\\\"text-right\\\">{{d.total_room_rate}}</td>\\n                <td>{{d.reservation_status}} </td>\\n                <td>{{d.cancelled_by}} </td>\\n                <td class=\\\"text-center\\\">{{d.cancelled_date}} </td>\\n                <td>{{d.cancelled_note}} </td> \\n            </tr> \\n            {%endfor%} \\n         {%endfor%} \\n    </tbody> \\n</table>\\n{% else %}\\n<div class=\\\"mt-4 print-heading text-center p-2\\\">\\n<div class=\\\"isemtyIcon\\\"></div> \\n<small class=\\\"text-emty\\\">No Data </small>\\n</div>\\n{% endif %}\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Base on Arrival Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% \\n    set sql =\\\"\\\"\\\"\\n        select \\n            name,\\n            reservation,\\n            cancelled_date,\\n            arrival_date,\\n            departure_date,\\n            room_nights,\\n            guest,\\n            guest_name,\\n            reservation_status,\\n            cancelled_note,\\n            business_source,\\n            room_nights,\\n            rooms,\\n            room_type_alias,\\n            reservation_type,\\n            reference_number,\\n            cancelled_by,\\n            cancelled_date,\\n            total_room_rate,\\n            adult,\\n            child,\\n            adr\\n        from `tabReservation Stay`\\n        where\\n            arrival_date between '{0}' and '{1}' and \\n            property = '{2}' and \\n            reservation_status in ('No Show','Cancelled','Void')\\n    \\\"\\\"\\\".format(\\n        frappe.form_dict.get(\\\"start_date\\\"),\\n        frappe.form_dict.get(\\\"end_date\\\"),\\n        doc.name\\n    )\\n    \\n%}\\n\\n{% set data = frappe.db.sql(sql,as_dict=1)%}\\n{% set reservation_status =  data|map(attribute='reservation_status')|unique|list %}\\n<h2 class=\\\"mt-3\\\" style=\\\"text-transform:capitalize !important;text-align:left !important\\\">Cancel & Void Reservation</h2>\\n\\n{% if data|length >0 %}\\n<table class='report-list occupied-001' style=\\\"width:100%\\\">\\n    <thead>\\n        <tr>\\n             <th class=\\\"text-center\\\">No</th>\\n             <th>Reservation #</th> \\n             <th>Ref. #</th>\\n             <th class=\\\"text-center\\\">Type</th>\\n             <th class=\\\"text-center\\\">Stay Date</th>\\n             <th class=\\\"text-center\\\">Room Nights</th>\\n             <th>Room(s)</th>\\n             <th>Guest</th>\\n             <th>Source</th>\\n             <th class=\\\"text-right\\\">ADR</th>\\n             <th class=\\\"text-right\\\">Total Room Rate</th>\\n             <th>Status</th>\\n             <th>By</th>\\n             <th class=\\\"text-center\\\">Date</th>\\n             <th>Note</th> \\n             \\n        </tr>\\n        \\n    </thead>\\n    \\n    <tbody> \\n        {%for g in reservation_status%}\\n            <tr>\\n                <td colspan=\\\"6\\\"><b>{{g}}</b></td>\\n            </tr>\\n     \\n            {% for d in data|selectattr('reservation_status', 'equalto', g)|list %} \\n            <tr>\\n                <td class=\\\"text-center\\\">{{loop.index}}</td>\\n                <td>\\n                    <a onclick=\\\"window.parent.postMessage('view_reservation_detail|{{d.reservation}}', '*')\\\">{{d.reservation}}</a>\\n                    <br/>\\n                    <a onclick=\\\"window.parent.postMessage('view_reservation_stay_detail|{{d.name}}', '*')\\\">{{d.name}}</a>\\n                </td>\\n                <td class=\\\"text-center\\\">{{d.reference_number}}</td>\\n                <td class=\\\"text-center\\\">{{d.reservation_type}}</td>\\n                <td class=\\\"text-center\\\">{{frappe.format(d.arrival_date,{\\\"fieldtype\\\":\\\"Date\\\"})}} - {{frappe.format( d.departure_date,{\\\"fieldtype\\\":\\\"Date\\\"})}}</td>\\n                <td class=\\\"text-center\\\">{{d.room_nights}}</td>\\n                <td >{{d.room_type_alias}}/{{d.rooms or 'Unassign'}}</td>\\n                <td><a onclick=\\\"window.parent.postMessage('view_guest_detail|{{d.guest}}', '*')\\\">{{d.guest_name}}</a></td>\\n                <td>{{d.business_source}}</td>\\n                <td class=\\\"text-right\\\">{{d.adr}}</td>\\n                <td class=\\\"text-right\\\">{{d.total_room_rate}}</td>\\n                <td>{{d.reservation_status}} </td>\\n                <td>{{d.cancelled_by}} </td>\\n                <td class=\\\"text-center\\\">{{d.cancelled_date}} </td>\\n                <td>{{d.cancelled_note}} </td> \\n            </tr>\\n            \\n            {%endfor%}\\n        {%endfor%} \\n    </tbody> \\n</table> \\n{% else %}\\n<div class=\\\"mt-4 print-heading text-center p-2\\\">\\n<div class=\\\"isemtyIcon\\\"></div> \\n<small class=\\\"text-emty\\\">No Data </small>\\n</div>\\n{% endif %}\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% \\n    set sql =\\\"\\\"\\\"\\n        select \\n            name,\\n            reservation,\\n            cancelled_date,\\n            arrival_date,\\n            departure_date,\\n            room_nights,\\n            guest,\\n            guest_name,\\n            reservation_status,\\n            cancelled_note,\\n            business_source,\\n            room_nights,\\n            rooms,\\n            room_type_alias,\\n            reservation_type,\\n            reference_number,\\n            cancelled_by,\\n            cancelled_date,\\n            total_room_rate,\\n            adult,\\n            child,\\n            adr\\n        from `tabReservation Stay`\\n        where\\n            arrival_date <= '{0}' and \\n            departure_date > '{1}' and\\n            property = '{2}' and \\n            reservation_status = 'No Show'\\n    \\\"\\\"\\\".format(\\n        frappe.form_dict.get(\\\"start_date\\\"),\\n        frappe.form_dict.get(\\\"end_date\\\"),\\n        doc.name\\n    )\\n    \\n%}\\n\\n{% set data = frappe.db.sql(sql,as_dict=1)%}\\n{% set reservation_status =  data|map(attribute='reservation_status')|unique|list %}\\n<h2 style=\\\"text-transform:capitalize !important;text-align:left !important\\\">No Show(Reserved)</h2>\\n\\n{% if data|length >0 %}\\n<table class='report-list occupied-001' style=\\\"width:100%\\\">\\n    <thead>\\n        <tr>\\n             <th class=\\\"text-center\\\">No</th>\\n             <th>Reservation #</th> \\n             <th>Ref. #</th>\\n             <th class=\\\"text-center\\\">Type</th>\\n             <th class=\\\"text-center\\\">Stay Date</th>\\n             <th class=\\\"text-center\\\">Room Nights</th>\\n             <th>Room(s)</th>\\n             <th>Guest</th>\\n             <th>Source</th>\\n             <th class=\\\"text-right\\\">ADR</th>\\n             <th class=\\\"text-right\\\">Total Room Rate</th>\\n             <th>Status</th>\\n             <th>By</th>\\n             <th class=\\\"text-center\\\">Date</th>\\n             <th>Note</th> \\n             \\n        </tr>\\n        \\n    </thead>\\n    \\n    <tbody> \\n        {%for g in reservation_status%}\\n            <tr>\\n                <td colspan=\\\"6\\\"><b>{{g}}</b></td>\\n            </tr>\\n     \\n            {% for d in data|selectattr('reservation_status', 'equalto', g)|list %} \\n            <tr>\\n                <td class=\\\"text-center\\\">{{loop.index}}</td>\\n                <td>\\n                    <a onclick=\\\"window.parent.postMessage('view_reservation_detail|{{d.reservation}}', '*')\\\">{{d.reservation}}</a>\\n                    <br/>\\n                    <a onclick=\\\"window.parent.postMessage('view_reservation_stay_detail|{{d.name}}', '*')\\\">{{d.name}}</a>\\n                </td>\\n                <td class=\\\"text-center\\\">{{d.reference_number}}</td>\\n                <td class=\\\"text-center\\\">{{d.reservation_type}}</td>\\n                <td class=\\\"text-center\\\">{{frappe.format(d.arrival_date,{\\\"fieldtype\\\":\\\"Date\\\"})}} - {{frappe.format( d.departure_date,{\\\"fieldtype\\\":\\\"Date\\\"})}}</td>\\n                <td class=\\\"text-center\\\">{{d.room_nights}}</td>\\n                <td >{{d.room_type_alias}}/{{d.rooms or 'Unassign'}}</td>\\n                <td><a onclick=\\\"window.parent.postMessage('view_guest_detail|{{d.guest}}', '*')\\\">{{d.guest_name}}</a></td>\\n                <td>{{d.business_source}}</td>\\n                <td class=\\\"text-right\\\">{{d.adr}}</td>\\n                <td class=\\\"text-right\\\">{{d.total_room_rate}}</td>\\n                <td>{{d.reservation_status}} </td>\\n                <td>{{d.cancelled_by}} </td>\\n                <td class=\\\"text-center\\\">{{d.cancelled_date}} </td>\\n                <td>{{d.cancelled_note}} </td> \\n            </tr>\\n            \\n            {%endfor%}\\n        {%endfor%} \\n    </tbody> \\n</table>\\n{% else %}\\n<div class=\\\"mt-4 print-heading text-center p-2\\\">\\n<div class=\\\"isemtyIcon\\\"></div> \\n<small class=\\\"text-emty\\\">No Data </small>\\n</div>\\n{% endif %}\\n\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2023-12-02 17:35:08.740344",
 "modified_by": "Administrator",
 "module": "eDoor",
 "name": "eDoor No Show Cancel Void Report",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}