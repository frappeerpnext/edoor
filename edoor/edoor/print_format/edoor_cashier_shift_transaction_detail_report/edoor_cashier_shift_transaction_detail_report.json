{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-12-01 15:31:52.488302",
 "css": "\n@media print{@page {size: landscape}}\n.print-format{\n  \n    min-width:95%!important;\n}\n.print-format td, .print-format th{\n    padding:1px 5px !important;\n}",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Cashier Shift",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<h2 class=\\\"text-center\\\">{{_(\\\"CASHIER SHIFT DETAIL REPORT\\\")}}</h2>\\n\\n\\n<table style=\\\"width:100%;border-collapse: collapse;\\\">\\n    <tr>\\n        <td class=\\\"filter-section\\\" >\\n        Shift #: <strong>{{doc.name}}</strong><br/>\\n        Audit Date: <strong>{{frappe.format_value( doc.posting_date,\\\"Date\\\")}}</strong><br/>\\n        </td> \\n        <td ></td>\\n\\n        <td class = \\\"text-right\\\">\\n        {{_(\\\"Printed By\\\")}} : <strong>{{frappe.db.get_value(\\\"User\\\", frappe.session.user, \\\"full_name\\\")}}</strong>\\n        <br>\\n        {{_(\\\"Printed Date\\\")}} : <strong>{{frappe.format(frappe.utils.now(),{'fieldtype':'Datetime'})}}</strong>\\n        </td> \\n    </tr>\\n\\n</table>\\n<br/>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"business_branch\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Property\"}, {\"fieldname\": \"posting_date\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Working Date\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div class=\\\"row  data-field\\\" >\\n\\t<div class=\\\"col-xs-5\\\">\\n\\t\\t<label>Opened By: </label>\\n\\t</div>\\n\\t<div class=\\\"col-xs-7 text-left value\\\">\\n        {{doc.owner.split(\\\",\\\")[0]}}\\n\\t</div>\\n</div>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div class=\\\"row  data-field\\\" >\\n\\t<div class=\\\"col-xs-5\\\">\\n\\t\\t<label>Time in: </label>\\n\\t</div>\\n\\t<div class=\\\"col-xs-7 text-left value\\\">\\n        {{frappe.format_value(doc.creation,\\\"Datetime\\\")}}\\n\\t</div>\\n</div>\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div class=\\\"row  data-field\\\" >\\n\\t<div class=\\\"col-xs-5\\\">\\n\\t\\t<label>Closed by: </label>\\n\\t</div>\\n\\t<div class=\\\"col-xs-7 text-left value\\\">\\n        {{(doc.closed_by or \\\"\\\").split(\\\"@\\\")[0] }}\\n\\t</div>\\n</div>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div class=\\\"row  data-field\\\" >\\n\\t<div class=\\\"col-xs-5\\\">\\n\\t\\t<label>Time Out: </label>\\n\\t</div>\\n\\t<div class=\\\"col-xs-7 text-left value\\\">\\n        {{frappe.format_value(doc.closed_date,\\\"Datetime\\\")}}\\n\\t</div>\\n</div>\"}, {\"fieldname\": \"total_opening_amount\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Opening Amount\"}, {\"fieldname\": \"total_close_amount\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Closing Amount\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div class=\\\"row  data-field\\\" >\\n\\t<div class=\\\"col-xs-5\\\">\\n\\t\\t<label>Status: </label>\\n\\t</div>\\n\\t<div class=\\\"col-xs-7 text-left value\\\">\\n        {{\\\"Open\\\" if doc.is_closed == 0 else \\\"Closed\\\"}}\\n\\t</div>\\n</div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Cash Float\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{%if (frappe.form_dict.get(\\\"show_cash_float\\\") or \\\"0\\\") == \\\"1\\\" %}\\n<h3>Cash Float</h3>\\n\\n<table class='report-list' style='width:100%; margin-bottom:10px'>\\n    <thead>\\n        <tr>\\n        <th>Type</th>\\n        <th class='text-right'>Open Amount</th>\\n        <th class='text-right'>Expected</th>\\n        <th class='text-right'>Actual</th>\\n        <th class='text-right'>Difference</th>\\n        </tr>\\n        \\n    </thead>\\n    \\n    <tbody>\\n        {% for d in doc.cash_float%}\\n        <tr>\\n        <td>{{d.payment_method}}</td>\\n        <td class='text-right'>{{frappe.utils.fmt_money(d.input_amount,currency=d.currency,precision=d.currency_precision)}}</td>\\n        <td class='text-right'>{{frappe.utils.fmt_money(d.input_system_close_amount,currency=d.currency,precision=d.currency_precision)}}</td>\\n        <td class='text-right'>{{frappe.utils.fmt_money(d.input_close_amount,currency=d.currency,precision=d.currency_precision)}}</td>\\n        <td class='text-right'>{{frappe.utils.fmt_money(d.input_different_amount,currency=d.currency,precision=d.currency_precision)}}</td>\\n        \\n    </tr>\\n    {%endfor%}\\n    \\n    </tbody>\\n    <tfoot>\\n        <tr>\\n            <td><strong>Total</strong></td>\\n            <td class='text-right'><strong>{{frappe.format_value(doc.cash_float|sum(\\\"opening_amount\\\"),\\\"Currency\\\")}}</strong></td>\\n            <td class='text-right'><strong>{{frappe.format_value(doc.cash_float|sum(\\\"system_close_amount\\\"),\\\"Currency\\\")}}</strong></td>\\n            <td class='text-right'><strong>{{frappe.format_value(doc.cash_float|sum(\\\"close_amount\\\"),\\\"Currency\\\")}}</strong></td>\\n            <td class='text-right'><strong>{{frappe.format_value(doc.cash_float|sum(\\\"different_amount\\\"),\\\"Currency\\\")}}</strong></td>\\n        </tr>\\n    </tfoot>\\n</table>\\n{%endif%}\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Transaction\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{%if (frappe.form_dict.get(\\\"group_by_ledger_type\\\") or \\\"0\\\") == \\\"0\\\" %}\\n{% set show_account_code = (frappe.form_dict.get(\\\"show_account_code\\\") or \\\"0\\\") %}\\n{% set sql = \\\"\\n    select \\n        name,\\n        reservation_stay,\\n        concat(parent_account_code, ' - ', parent_account_name) as parent_account_name,\\n        concat(account_group , ' - ' , account_group_name) as account_group_name,\\n        room_number,\\n        guest_name,\\n        transaction_number,\\n        reference_number,\\n        concat(account_code, ' - ',report_description) as account_name,\\n        amount * if(type='Debit',1,-1) as amount,\\n        report_quantity as quantity,\\n        owner,\\n        creation\\n    from `tabFolio Transaction` \\n    where\\n        property = '{}' and \\n        cashier_shift = '{}'\\n    order by\\n        account_code_sort_order,\\n        name\\n\\\".format(\\n    doc.business_branch,\\n    doc.name\\n)\\n%}\\n{%set data = frappe.db.sql(sql,as_dict=1)%}\\n\\n{%set groups =   data | map(attribute='account_group_name')|unique|list %}\\n\\n{% set sql=\\\"\\n    select \\n        ifnull(sum(amount*if(type='Debit',1,-1)),0) as amount \\n    from `tabFolio Transaction` \\n    where \\n        property = '{}' and \\n        creation < '{}'  \\n\\\".format(doc.business_branch, doc.creation)\\n%}\\n\\n{% set opening_balance_data=frappe.db.sql(sql,as_dict=1) %}\\n<h3>Folio Transaction</h3>\\n\\n<table class='report-list' style='width:100%'>\\n    <thead>\\n        <tr>\\n            <th colspan=\\\"3\\\">\\n                Account Code\\n            </th>\\n            <th class=\\\"text-center\\\">Stay #</th>\\n            <th class=\\\"text-center\\\">Ref. #</th>\\n            <th class=\\\"text-center\\\">Tran. #</th>\\n            <th class=\\\"text-center\\\">Room</th>\\n            <th>Guest</th>\\n            <th class=\\\"text-center\\\">QTY</th>\\n            <th class=\\\"text-right\\\">Amount</th>\\n            <th>By</th>\\n            <th>Date</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        \\n        <tr>\\n            <td colspan=\\\"9\\\"><strong>Opening Balance</strong></td>\\n            <td class=\\\"text-right\\\"><strong>{{ frappe.format_value(opening_balance_data[0][\\\"amount\\\"],\\\"Currency\\\")}}</strong></td>\\n            <td></td>\\n            <td></td>\\n        </tr>\\n        {% for g in groups%}\\n        <tr>\\n            <td colspan=\\\"12\\\"><strong>{{g if show_account_code ==\\\"1\\\" else g.split(\\\" - \\\")[1]}}</strong></td>\\n        </tr>\\n        <!--loop account level 2-->\\n        {% for c in data|selectattr('account_group_name','equalto',g) | map(attribute='parent_account_name')|unique|list%}\\n        <tr>\\n            <td></td>\\n            <td colspan=11><strong>{{c if show_account_code ==\\\"1\\\" else c.split(\\\" - \\\")[1]}}</strong></td>\\n        </tr>\\n         <!-- startloop account level 3-->\\n        {% for a in data|selectattr('parent_account_name','equalto',c) |list%}\\n        <tr>\\n            <td></td>\\n            <td></td>\\n            <td >{{a.account_name if show_account_code ==\\\"1\\\" else a.account_name.split(\\\" - \\\")[1]}}</td>\\n            <td>{{a.reservation_stay or \\\"\\\"}}</td>\\n            <td class='text-center'>{{a.transaction_number}} {{ \\\"\\\" if (a.reference_number or \\\"\\\")==\\\"\\\" else \\\"<br/>\\\" + a.reference_number }} </td>\\n            <td class='text-center'>{{a.name}}</td>\\n            <td class='text-center'>{{a.room_number or \\\"\\\"}}</td>\\n            <td >{{a.guest_name or \\\"\\\"}}</td>\\n            <td class=\\\"text-center\\\"> {{frappe.format_value(a.quantity,\\\"Float\\\") if a.quantity>0 else \\\"-\\\" }}</td>\\n            <td class='text-right'> {{ frappe.format_value(a.amount,'Currency') }}</td>\\n            <td>{{a.owner.split(\\\"@\\\")[0]}}</td>\\n            <td>{{frappe.format_value(a.creation, \\\"Datetime\\\")}}</td>\\n            \\n        </tr>\\n        {%endfor%}\\n        <!--end loop level 3-->\\n        \\n        <!--total level 2-->\\n        <tr>\\n            <td colspan=\\\"8\\\" class=\\\"text-right\\\"><strong>*Total {{c}}:</strong></td>\\n           <td class=\\\"text-center\\\"><strong>{{frappe.format_value(data|selectattr('parent_account_name','equalto',c)|list|sum(\\\"quantity\\\"),\\\"Float\\\") }}</strong> </td>\\n            <td class='text-right'><strong>{{ frappe.format_value(data|selectattr('parent_account_name','equalto',c)|list|sum(\\\"amount\\\"),'Currency') }}</strong> </td>\\n            <td></td>\\n            <td></td>\\n        </tr>\\n        <!--end total level 2-->\\n        \\n        {%endfor%}\\n        <!--end loop level 2-->\\n        \\n            <!--total level 1-->\\n        <tr>\\n            <td colspan=\\\"8\\\" class=\\\"text-right\\\"><strong>**Total {{g}}:</strong></td>\\n           <td class=\\\"text-center\\\"><strong>{{frappe.format_value(data|selectattr('account_group_name','equalto',g)|list|sum(\\\"quantity\\\"),\\\"Float\\\") }}</strong> </td>\\n            <td class='text-right'><strong>{{ frappe.format_value(data|selectattr('account_group_name','equalto',g)|list|sum(\\\"amount\\\"),'Currency') }}</strong> </td>\\n            <td></td>\\n            <td></td>\\n        </tr>\\n        <!--end total level 1-->\\n        \\n        {%endfor%}\\n         <tr style=\\\"border-top:solid 1px #000\\\">\\n            <td colspan=\\\"9\\\"><strong>Ending Balance</strong></td>\\n            <td class='text-right'><strong>{{ frappe.format_value( opening_balance_data[0][\\\"amount\\\"] + data|sum(\\\"amount\\\"),'Currency') }}</strong> </td>\\n            <td></td>\\n            <td></td>\\n        </tr>\\n    </tbody>\\n \\n</table>\\n{%endif%}\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n\\n{%if (frappe.form_dict.get(\\\"group_by_ledger_type\\\") or \\\"0\\\") == \\\"1\\\" %}\\n{% set show_account_code = (frappe.form_dict.get(\\\"show_account_code\\\") or \\\"0\\\") %}\\n{% set sql = \\\"\\n     select \\n        transaction_type,\\n        name,\\n        reservation_stay,\\n        concat(parent_account_code, ' - ', parent_account_name) as parent_account_name,\\n        concat(account_group , ' - ' , account_group_name) as account_group_name,\\n        room_number,\\n        guest_name,\\n        transaction_number,\\n        reference_number,\\n        concat(account_code, ' - ',report_description) as account_name,\\n        amount * if(type='Debit',1,-1) as amount,\\n        report_quantity as quantity,\\n        owner,\\n        creation\\n    from `tabFolio Transaction` \\n    where\\n        property = '{}' and \\n        cashier_shift = '{}'\\n    order by\\n        account_code_sort_order,\\n        name\\n\\\".format(\\n    doc.business_branch,\\n    doc.name\\n)\\n%}\\n{%set data = frappe.db.sql(sql,as_dict=1)%}\\n{% set ledger_types=[\\n    {\\\"label\\\": \\\"Guest Ledger\\\",\\\"value\\\":\\\"Reservation Folio\\\" },\\n    {\\\"label\\\": \\\"Deposit Ledger\\\",\\\"value\\\":\\\"Deposit Ledger\\\" },\\n    {\\\"label\\\": \\\"Desk Folio\\\",\\\"value\\\":\\\"Desk Folio\\\" },\\n    {\\\"label\\\": \\\"Payable Ledger\\\",\\\"value\\\":\\\"Payable Ledger\\\" },\\n    {\\\"label\\\": \\\"City Ledger\\\",\\\"value\\\":\\\"City Ledger\\\" },\\n    {\\\"label\\\": \\\"POS\\\",\\\"value\\\":\\\"Cashier Shift\\\" }\\n    ]\\n%}\\n\\n{% set sql=\\\"\\n    select \\n        ifnull(sum(amount*if(type='Debit',1,-1)),0) as amount \\n    from `tabFolio Transaction` \\n    where \\n        property = '{}' and \\n        creation < '{}'  \\n\\\".format(doc.business_branch, doc.creation)\\n%}\\n{% set total_opening_balance = frappe.db.sql(sql,as_dict=1)[0][\\\"amount\\\"]%}\\n\\n<h3>Folio Transaction</h3>\\n\\n<table class='report-list' style='width:100%'>\\n    <thead>\\n        <tr>\\n            <th colspan=\\\"3\\\">\\n                Account Code\\n            </th>\\n            <th class=\\\"text-center\\\">Stay #</th>\\n            <th class=\\\"text-center\\\">Ref. #</th>\\n            <th class=\\\"text-center\\\">Tran. #</th>\\n            <th class=\\\"text-center\\\">Room</th>\\n            <th>Guest</th>\\n            <th class=\\\"text-center\\\">QTY</th>\\n            <th class=\\\"text-right\\\">Amount</th>\\n            <th>By</th>\\n            <th>Date</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        <tr>\\n            <td colspan=\\\"9\\\"><strong>Opening Balance</strong></td>\\n            <td class=\\\"text-right\\\"><strong>{{frappe.format_value(total_opening_balance,\\\"Currency\\\")}}</strong></td>\\n            <td></td>\\n            <td></td>\\n        </tr>\\n        {%for t in ledger_types%}\\n        \\n        {%set groups =data|selectattr(\\\"transaction_type\\\",\\\"equalto\\\",t.value)| map(attribute='account_group_name')|unique|list %}\\n        \\n        {% set sql=\\\"\\n            select \\n                ifnull(sum(amount*if(type='Debit',1,-1)),0) as amount \\n            from `tabFolio Transaction` \\n            where \\n                property = '{}' and \\n                creation < '{}'  and \\n                transaction_type = '{}'\\n        \\\".format(doc.business_branch, doc.creation, t.value)\\n        %}\\n        \\n        {% set opening_balance_data=frappe.db.sql(sql,as_dict=1) %}\\n        \\n        \\n        <!--check if ledter type have transactiuon and have opening balance -->\\n        {%if opening_balance_data[0][\\\"amount\\\"] !=0 or groups|length > 0 %}\\n        <tr>\\n            <td colspan=\\\"12\\\"><strong style=\\\"font-size:14px\\\">{{t.label}}</strong>\\n            <hr>\\n            </td>\\n        </tr>\\n        \\n        \\n        <tr>\\n            <td colspan=\\\"9\\\"><strong>{{t.label}} Opening Balance</strong></td>\\n            <td class=\\\"text-right\\\"><strong>{{ frappe.format_value(opening_balance_data[0][\\\"amount\\\"],\\\"Currency\\\")}}</strong></td>\\n            <td></td>\\n            <td></td>\\n        </tr>\\n        {% for g in groups%}\\n        <tr>\\n            <td colspan=12><strong>{{g if show_account_code ==\\\"1\\\" else g.split(\\\" - \\\")[1]}}</strong></td>\\n        </tr>\\n        <!--loop account level 2-->\\n        {% for c in data|selectattr(\\\"transaction_type\\\",\\\"equalto\\\",t.value)|selectattr('account_group_name','equalto',g) | map(attribute='parent_account_name')|unique|list%}\\n        <tr>\\n            <td></td>\\n            <td colspan=11><strong>{{c if show_account_code ==\\\"1\\\" else c.split(\\\" - \\\")[1]}}</strong></td>\\n        </tr>\\n         <!-- startloop account level 3-->\\n        {% for a in data|selectattr(\\\"transaction_type\\\",\\\"equalto\\\",t.value)|selectattr('parent_account_name','equalto',c)|list%}\\n        <tr>\\n            <td></td>\\n            <td></td>\\n            <td >{{a.account_name if show_account_code ==\\\"1\\\" else a.account_name.split(\\\" - \\\")[1]}}</td>\\n            <td>{{a.reservation_stay or \\\"\\\"}}</td>\\n            <td class='text-center'>{{a.transaction_number}} {{ \\\"\\\" if (a.reference_number or \\\"\\\")==\\\"\\\" else \\\"<br/>\\\" + a.reference_number }} </td>\\n            <td class='text-center'>{{a.name}}</td>\\n            <td class='text-center'>{{a.room_number or \\\"\\\"}}</td>\\n            <td >{{a.guest_name or \\\"\\\"}}</td>\\n            <td class=\\\"text-center\\\"> {{frappe.format_value(a.quantity,\\\"Float\\\") if a.quantity>0 else \\\"-\\\" }}</td>\\n            <td class='text-right'> {{ frappe.format_value(a.amount,'Currency') }}</td>\\n            <td>{{a.owner.split(\\\"@\\\")[0]}}</td>\\n            <td>{{frappe.format_value(a.creation, \\\"Datetime\\\")}}</td>     \\n        </tr>\\n        \\n        \\n        {%endfor%}\\n        <!--end loop level 3-->\\n        \\n        <!--total level 2-->\\n        <tr>\\n            <td colspan=8 class=\\\"text-right\\\"><strong>*Total {{c}}:</strong></td>\\n           <td class=\\\"text-center\\\"><strong>{{frappe.format_value(data|selectattr(\\\"transaction_type\\\",\\\"equalto\\\",t.value)|selectattr('parent_account_name','equalto',c)|list|sum(\\\"quantity\\\"),\\\"Float\\\") }}</strong> </td>\\n            <td class='text-right'><strong>{{frappe.format_value(data|selectattr(\\\"transaction_type\\\",\\\"equalto\\\",t.value)|selectattr('parent_account_name','equalto',c)|list|sum(\\\"amount\\\"),'Currency') }}</strong> </td>\\n            <td></td>\\n            <td></td>\\n        </tr>\\n        <!--end total level 2-->\\n        \\n        {%endfor%}\\n        <!--end loop level 2-->\\n        \\n            <!--total level 1-->\\n        <tr>\\n            <td colspan=8 class=\\\"text-right\\\"><strong>**Total {{g}}:</strong></td>\\n           <td class=\\\"text-center\\\"><strong>{{frappe.format_value(data|selectattr(\\\"transaction_type\\\",\\\"equalto\\\",t.value)|selectattr('account_group_name','equalto',g)|list|sum(\\\"quantity\\\"),\\\"Float\\\") }}</strong> </td>\\n            <td class='text-right'><strong>{{ frappe.format_value(data|selectattr(\\\"transaction_type\\\",\\\"equalto\\\",t.value)|selectattr('account_group_name','equalto',g)|list|sum(\\\"amount\\\"),'Currency') }}</strong> </td>\\n            <td></td>\\n            <td></td>\\n        </tr>\\n        <!--end total level 1-->\\n        \\n        {%endfor%}\\n         <tr>\\n            <td colspan=\\\"9\\\"><strong>{{t.label}} Ending Balance </strong></td>\\n            <td class='text-right'><strong>  {{ frappe.format_value( opening_balance_data[0][\\\"amount\\\"] + data|selectattr(\\\"transaction_type\\\",\\\"equalto\\\",t.value)|sum(\\\"amount\\\"),'Currency') }}</strong> </td>\\n            <td></td>\\n            <td></td>\\n            \\n        </tr>\\n        <!--end if check if ledger type has transaction-->\\n        {%endif%}\\n        <!--end loop ledger type-->\\n        {%endfor%}\\n         <tr style=\\\"border-top:solid 1px #000\\\">\\n            <td colspan=\\\"9\\\"><strong>Ending Balance </strong></td>\\n            <td class='text-right'><strong>  {{ frappe.format_value( total_opening_balance + data|sum(\\\"amount\\\"),'Currency') }}</strong> </td>\\n            <td></td>\\n        </tr>\\n    </tbody>\\n    \\n</table>\\n{%endif%}\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Cash Count\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{%if (frappe.form_dict.get(\\\"show_cash_count\\\") or \\\"0\\\") == \\\"1\\\" %}\\n<br/>\\n<h3>Cash Count</h3>\\n{%set currencies = doc.cash_count| map(attribute='currency')|unique|list %}\\n\\n<table class='report-list' style='width:100%; margin-bottom:10px'>\\n    <thead>\\n        <tr>\\n        <th>Note Type</th>\\n        <th class='text-center'>Total Note</th>\\n        <th class='text-right'>Total Amount</th>\\n    </tr>\\n        \\n    </thead>\\n    \\n    <tbody>\\n        {%for c in currencies %}\\n        \\n        <tr>\\n            <td colspan=\\\"3\\\"><strong>{{c}}</strong></td>\\n        </tr>\\n            {% for d in doc.cash_count|selectattr(\\\"currency\\\",\\\"equalto\\\",c)%}\\n        <tr>\\n            <td><div style=\\\"padding-left:15px\\\">{{d.label}}</div></td>\\n            <td class='text-center'>{{d.total_note}}</td>\\n            <td class='text-right'>{{frappe.utils.fmt_money(d.total_amount,currency=d.currency,precision=d.currency_precision)}}</td>\\n            \\n        </tr>\\n        {%endfor%}\\n        <tr>\\n            <td><strong>Total {{c}}</strong></td>\\n            <td class='text-center'><strong>{{doc.cash_count|selectattr('currency','equalto',c)|sum(\\\"total_note\\\")}}</strong></td>\\n            <td class='text-right'><strong>{{frappe.utils.fmt_money(doc.cash_count|selectattr('currency','equalto',c)|sum(\\\"total_amount\\\"),currency=c, precision=frappe.db.get_value(\\\"Currency\\\",c,\\\"custom_currency_precision\\\"))}}</strong></td>\\n            \\n        </tr>\\n        \\n        {%endfor%}\\n    \\n    </tbody>\\n    <tfoot>\\n        <tr style=\\\"border-top:solid 1px #000\\\">\\n            <td><strong>Total</strong></td>\\n            <td class='text-center'><strong>{{doc.cash_count|sum(\\\"total_note\\\")}}</strong></td>\\n            <td class='text-right'><strong>{{frappe.format_value(doc.cash_count|sum(\\\"total_base_currency_amount\\\"),\\\"Currency\\\")}}</strong></td>\\n            \\n        </tr>\\n    </tfoot>\\n</table>\\n{%endif%}\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 0.0,
 "margin_left": 0.0,
 "margin_right": 0.0,
 "margin_top": 0.0,
 "modified": "2023-12-01 17:01:01.148555",
 "modified_by": "Administrator",
 "module": "eDoor",
 "name": "eDoor Cashier Shift Transaction Detail Report",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}